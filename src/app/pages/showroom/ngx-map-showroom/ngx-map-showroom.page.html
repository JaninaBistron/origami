<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button color=dark defaultHref="/showroom"></ion-back-button>
    </ion-buttons>
    <ion-title>Kartenfeatures</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="wrapper">
    <div #mapWrapper>
      <div id="swipingContainer1" class="map">
        <mgl-map [style]="'mapbox://styles/mapbox/streets-v9'" [zoom]="[mapZoom]" [center]="mapCenter" (load)="onSwipeMap1Load($event)">
        </mgl-map>
      </div>
      <div id="swipingContainer2" class="map">
        <mgl-map [style]="'mapbox://styles/mapbox/satellite-v9'" [zoom]="[mapZoom]" [center]="mapCenter" (load)="onSwipeMap2Load($event)">
        </mgl-map>
      </div>
    </div>
    <mgl-map *ngIf='!enabledFeatures.includes("swipe")' id="mainMap" class="map"
      [style]="'mapbox://styles/mapbox/streets-v9'" [zoom]="[mapZoom]" [maxZoom]="18" 
      [center]="mapCenter" 
      [scrollZoom]="mapZoomEnabled" [doubleClickZoom]="mapZoomEnabled"
      [boxZoom]="mapZoomEnabled"
      [dragPan]="mapPanEnabled"
      movingMethod="flyTo"
      [(bearing)]="mapBearing" 
      (load)="onMapLoad($event)">
      <app-map-image-control></app-map-image-control>

        <app-geolocate-control
          [visible]="geolocateVisible"
        ></app-geolocate-control>
        
    </mgl-map>
  </div>


  <div class="control">
    <ion-icon name="map" size="large"></ion-icon>
    <ion-chip [color]='enabledFeatures.includes("zoomBar") ? "primary" : "medium"' (click)=toggleZoomBar()>
      <ion-label>Zoom</ion-label>
    </ion-chip>
    <ion-chip [color]='enabledFeatures.includes("swipe") ? "primary" : "medium"' (click)=toggleSwipe()>
      <ion-label>Swipe</ion-label>
    </ion-chip>
    <ion-chip [color]='enabledFeatures.includes("pan") ? "primary" : "medium"' (click)=togglePan()>
      <ion-label>Verschieben</ion-label>
    </ion-chip>
    <ion-chip [color]='enabledFeatures.includes("manualRotate") ? "primary" : "medium"' (click)=toggleManualRotate()>
      <ion-label>Manuelle Rotation</ion-label>
    </ion-chip>
    <ion-chip [color]='enabledFeatures.includes("autoRotate") ? "primary" : "medium"' (click)=toggleAutoRotate()>
      <ion-label>Automatische Rotation</ion-label>
    </ion-chip>
    <ion-chip [color]='enabledFeatures.includes("position") ? "primary" : "medium"' (click)=togglePosition()>
      <ion-label>Position</ion-label>
    </ion-chip>
    <ion-chip [color]='enabledFeatures.includes("viewDirection") ? "primary" : "medium"' (click)=toggleViewDirection()>
      <ion-label>Blickrichtung</ion-label>
    </ion-chip>
    <ion-chip [color]='enabledFeatures.includes("track") ? "primary" : "medium"' (click)=toggleTrack()>
      <ion-label>Track</ion-label>
    </ion-chip>
    <ion-chip [color]='enabledFeatures.includes("styleSwitcher") ? "primary" : "medium"' (click)=toggleStyleSwitcher()>
      <ion-label>Layercontrol</ion-label>
    </ion-chip>
    <ion-chip [color]='enabledFeatures.includes("3D") ? "primary" : "medium"' (click)=toggle3D()>
      <ion-label>3D</ion-label>
    </ion-chip>
    <ion-chip [color]='enabledFeatures.includes("streetSection") ? "primary" : "medium"' (click)=toggleStreetSection()>
      <ion-label>Stra√üenabschnitt</ion-label>
    </ion-chip>
    <ion-chip [color]='enabledFeatures.includes("offline") ? "primary" : "medium"' (click)=toggleOffline()>
      <ion-label>Offline</ion-label>
    </ion-chip>
    <ion-chip [color]='enabledFeatures.includes("draw") ? "primary" : "medium"' (click)=toggleDraw()>
      <ion-label>Draw</ion-label>
    </ion-chip>
  </div>

</ion-content>
